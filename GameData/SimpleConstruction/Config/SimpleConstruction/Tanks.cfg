// Tanks.cfg v1.0.5.0
// SimpleConstruction! (SCON)
// created: 27 Mar 2020
// updated: 09 Jan 2023

// THIS FILE: GPL-3.0  by [zer0Kerbal](https://github.com/zer0Kerbal)

// *************************** Resource Reference
  // name = Ore
  // unitCost = 0.02
  // unitMass = 0.01
  // volume = 5
  //
  // Metal
  // unitCost = 9.36 // 14.24
  // unitMass = 0.0078
  // volume = 5
  // 
  // RocketParts
  // unitCost = 1.5
  // unitMass = 0.0025
  // volume = 5
// *************************** Resource Reference end

// @PART[SmallTank,LargeTank,RadialOreTank]:NEEDS[SimpleConstruction]:BEFORE[SimpleConstruction]
// {
// 	@tags ^= :$: cck-sc cck-el:
// }

@PART[*]:HAS[@RESOURCE[Ore],#category[FuelTank]]:NEEDS[SimpleConstruction]:BEFORE[SimpleConstruction]
{
	@tags = #$tags$ cck-el cck-sc
}

// +PART[SmallTank,LargeTank,RadialOreTank]:NEEDS[!B9PartSwitch,!InterstellarFuelSwitch]:FOR[SimpleConstruction]
+PART[SmallTank,LargeTank,RadialOreTank]:NEEDS[SimpleConstruction]:FOR[SimpleConstruction]
{
	tmp01 = #EL_Metal-name
	@name ^= :$:-metal:
	@title = #$title$ $tmp01$
	@description ^= :(materials):metals:
	@entryCost *= 6
	@cost *= 6
	@tags = #$tags$ $tmp01$
	!tmp01 = DELETE
	
	@RESOURCE[Ore]
	{
		@name = Metal
	}
}

+PART[SmallTank,LargeTank,RadialOreTank]:NEEDS[SimpleConstruction]:FOR[SimpleConstruction]
{
	tmp01= #EL_RocketParts-name
	@name ^= :$:-rocketparts:
	@title = #$title$ $tmp01$
	@description ^= :(materials):$tmp01$:
	@entryCost *= 1.6
	@cost *= 1.6
	@tags = #$tags$ $tmp01$
	!tmp01 = DELETE
	
	@RESOURCE[Ore]
	{
		@name = RocketParts
	}
}

@PART[SmallTank,LargeTank,RadialOreTank]:NEEDS[!B9PartSwitch,!InterstellarFuelSwitch]:FOR[SimpleConstruction]
{
	tmp01= #autoLOC_501007
	@title ^= :$: (Ore):
	!tmp01 = DELETE
}

@PART[*-rocketparts,*-metal]:NEEDS[SimpleConstruction,B9PartSwitch|InterstellarFuelSwitch]:FOR[SimpleConstruction]
{
	// ghost extra parts if B9PartSwitch or InterstellarFuelSwitch present
	// have to do it this way so won't affect parts in service (flight)
	// so shouldn't affect saves
		
	!TechRequired = DELETE
	!entryCost = DELETE
	@category = -1
	%TechHidden = True
	%entryCost = 0
	@description = This part has been depreciated, kindly use new part.	
    @title ^= :^: Kindly use new part numbers :
	@tags ^= :\s*cck-sc cck-el\s*: : // removes tags so parts won't show up if CCK is installed
}